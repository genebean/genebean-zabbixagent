# Reference
<!-- DO NOT EDIT: This document was generated by Puppet Strings -->

## Table of Contents

**Classes**

* [`zabbixagent`](#zabbixagent): Class: zabbixagent  This module manages the zabbix agent on a monitored machine.  Unless listed otherwise below, all settings in zabbix_agent
* [`zabbixagent::config`](#zabbixagentconfig): Manages configuration of the Zabbix agent and associated repos (if enabled)
* [`zabbixagent::install`](#zabbixagentinstall): Installs the zabbix agent
* [`zabbixagent::preinstall`](#zabbixagentpreinstall): Repositories used by Zabbix
* [`zabbixagent::service`](#zabbixagentservice): Makes sure the service is running

**Data types**

* [`Zabbixagent::Logtype`](#zabbixagentlogtype): 
* [`Zabbixagent::Server`](#zabbixagentserver): 
* [`Zabbixagent::Tls::Accept`](#zabbixagenttlsaccept): 
* [`Zabbixagent::Tls::Connect`](#zabbixagenttlsconnect): 

## Classes

### zabbixagent

Class: zabbixagent

This module manages the zabbix agent on a monitored machine.

Unless listed otherwise below, all settings in zabbix_agentd.conf are
ommitted unless a value is passed in. In the config file, setting names are
capitalized and run together. Here, they share the same name but are lower
case and have an underscore separating words. Ex: PidFile becomes pid_file.


#### Preinstall

**manage_repo_epel**
Determines if the EPEL repo is managed on the RedHat family of OS's.
Default: false
Type: boolean

**manage_repo_zabbix**
Determines if the Zabbix repo is managed on the RedHat family of OS's.
Default: false
Type: boolean


#### Install

**custom_require_linux**
A class name to require before the zabbix agent package is installed on Linux.
The named class will also be included.
Default: undef

**custom_require_windows**
A class name to require before the zabbix agent package is installed on Windows.
The named class will also be included.
Default: undef

**ensure_setting**
Passed directly to ensure of package resource
Default: 'present'


#### Config

**allow_root**
0 - do not allow, 1 - allow
Type: integer

**buffer_send**
Range: 1-3600
Type: integer

**buffer_size**
Range: 2-65535
Type: integer

**config_dir**
Defines the directory in which config files live
Default on Linux:   '/etc/zabbix'
Default on Windows: 'C:/ProgramData/zabbix'

**debug_level**
Range: 0-4
Type: integer

**enable_remote_commands**
0 - not allowed, 1 - allowed
Type: integer

**host_metadata**
Range: 0-255 characters
Type: string

**host_metadata_item**
Parameter that defines an item used for getting host metadata used during host
auto-registration process.
To disable, set to ''.
Default: 'system.uname'

**hostname**
The hostname used in the config file.
Default: downcase($fqdn)

**hostname_item**
An item to be used for determining a host's name

**include_files**
Equates to include in zabbix_agentd.conf. Renamed due to include being special
in Puppet. An array with one or more files to be included in the config.
On non-Windows systems, this can be a folder or a path with a wildcard. See
zabbix_agentd.conf for details.
Type: array

**item_alias**
Equates to alias in zabbix_agentd.conf. Renamed due to alias being the name of
a Puppet metaparameter. Sets an alias for an item key.
Type: array

**listen_ip**
List of comma delimited IP addresses that the agent should listen on.
Type: string

**listen_port**
Range: 1024-32767
Default: 10050
Type: integer

**load_module**
Type: string

**load_module_path**
Type: string

**log_file_size**
Range: 0-1024
Type: integer

**log_file**
The full path to where Zabbix should store it's logs.
Default on Windows: 'C:\zabbix_agentd.log'
Default on Linux: '/var/log/zabbix/zabbix_agentd.log'
Type: string

**log_type**
Log output type.
Type: string

**log_remote_commands**
0 - disabled, 1 - enabled
Type: integer

**max_lines_per_second**
Range: 1-1000
Type: integer

**package_name**
Name of the Zabbix Agent package.
The default values for this can be found in params.pp as it is OS dependent.
Type: string

**perf_counter**
Each item should be formmated as follows:
<parameter_name>,"<perf_counter_path>",<period>
Type: array

**pid_file**
Name of PID file.
Type: string

**refresh_active_checks**
Range: 60-3600
Type: integer

**server**
Default: '127.0.0.1'
Type: String separated by commas OR Array

**server_active**
Default: '127.0.0.1'
Type: String separated by commas OR Array

**source_ip**
Source IP address for outgoing connections.
Type: string, formatted as an IP address

**start_agents**
Range: 0-100
Type: integer

**timeout**
Range: 1-30
Type: integer

**tls_accept**
What incoming connections to accept.
Type: String separated by commas OR Array

**tls_ca_file**
Full pathname of a file containing the top-level CA(s) certificates for peer
certificate verification.
Type: String

**tls_cert_file**
Full pathname of a file containing the agent certificate or certificate chain.
Type: String

**tls_connect**
How the agent should connect to server or proxy.
Type: String

**tls_crl_file**
Full pathname of a file containing revoked certificates.
Type: String

**tls_key_file**
Full pathname of a file containing the agent private key.
Type: String

**tls_psk_file**
Full pathname of a file containing the agent pre-shared key.
Type: String

**tls_psk_identity**
Pre-shared key identity string.
Type: String

**tls_server_cert_issuer**
Allowed server (proxy) certificate issuer.
Type: String

**tls_server_cert_subject**
Allowed server (proxy) certificate subject.
Type: String

**unsafe_user_parameters**
0 - do not allow, 1 - allow

**user_parameter**
User-defined parameter to monitor.
Type: array

**user**
Drop privileges to a specific, existing user on the system.
Type: string

**version**
Determines what version of the Zabbix Agent to install.
Default: '3.2'
Allowed values: '3.2', '3.0', or '2.4'
Type: string

Sample Usage: see README.md

#### Parameters

The following parameters are available in the `zabbixagent` class.

##### `config_dir`

Data type: `Stdlib::Absolutepath`



##### `manage_repo_epel`

Data type: `Boolean`



Default value: `false`

##### `manage_repo_zabbix`

Data type: `Boolean`



Default value: `false`

##### `ensure_setting`

Data type: `String[1]`



Default value: 'present'

##### `custom_require_linux`

Data type: `Optional[String[1]]`



Default value: `undef`

##### `custom_require_windows`

Data type: `Optional[String[1]]`



Default value: `undef`

##### `allow_root`

Data type: `Optional[Integer[0,1]]`



Default value: `undef`

##### `buffer_send`

Data type: `Optional[Integer[1,3600]]`



Default value: `undef`

##### `buffer_size`

Data type: `Optional[Integer[2,65535]]`



Default value: `undef`

##### `debug_level`

Data type: `Optional[Integer[0,5]]`



Default value: `undef`

##### `enable_remote_commands`

Data type: `Optional[Integer[0,1]]`



Default value: `undef`

##### `host_metadata`

Data type: `Optional[String[1,255]]`



Default value: `undef`

##### `host_metadata_item`

Data type: `String[1,255]`



Default value: 'system.uname'

##### `hostname`

Data type: `String[1]`



Default value: downcase($facts['networking']['fqdn'])

##### `hostname_item`

Data type: `Optional[String[1]]`



Default value: `undef`

##### `include_files`

Data type: `Optional[Array[String[1]]]`



Default value: `undef`

##### `item_alias`

Data type: `Optional[String[1]]`



Default value: `undef`

##### `listen_ip`

Data type: `Optional[Array[Stdlib::IP::Address]]`



Default value: `undef`

##### `listen_port`

Data type: `Optional[Integer[1024,32767]]`



Default value: `undef`

##### `load_module`

Data type: `Optional[Array[String[1]]]`



Default value: `undef`

##### `load_module_path`

Data type: `Optional[Stdlib::Absolutepath]`



Default value: `undef`

##### `log_file`

Data type: `Optional[Stdlib::Absolutepath]`



Default value: `undef`

##### `log_file_size`

Data type: `Optional[Integer[0,1024]]`



Default value: `undef`

##### `log_remote_commands`

Data type: `Optional[Integer[0,1]]`



Default value: `undef`

##### `log_type`

Data type: `Optional[Zabbixagent::Logtype]`



Default value: `undef`

##### `max_lines_per_second`

Data type: `Optional[Integer[1,1000]]`



Default value: `undef`

##### `package_name`

Data type: `String[1]`



Default value: 'zabbix-agent'

##### `perf_counter`

Data type: `Optional[String[1]]`



Default value: `undef`

##### `pid_file`

Data type: `Optional[Stdlib::Absolutepath]`



Default value: `undef`

##### `refresh_active_checks`

Data type: `Optional[Integer[60,3600]]`



Default value: `undef`

##### `server`

Data type: `Zabbixagent::Server`



Default value: '127.0.0.1'

##### `server_active`

Data type: `Zabbixagent::Server`



Default value: '127.0.0.1'

##### `source_ip`

Data type: `Optional[Stdlib::IP::Address]`



Default value: `undef`

##### `start_agents`

Data type: `Optional[Integer[0,100]]`



Default value: `undef`

##### `timeout`

Data type: `Optional[Integer[1,30]]`



Default value: `undef`

##### `tls_accept`

Data type: `Optional[Zabbixagent::Tls::Accept]`



Default value: `undef`

##### `tls_ca_file`

Data type: `Optional[Stdlib::Absolutepath]`



Default value: `undef`

##### `tls_cert_file`

Data type: `Optional[Stdlib::Absolutepath]`



Default value: `undef`

##### `tls_connect`

Data type: `Optional[Zabbixagent::Tls::Connect]`



Default value: `undef`

##### `tls_crl_file`

Data type: `Optional[Stdlib::Absolutepath]`



Default value: `undef`

##### `tls_key_file`

Data type: `Optional[Stdlib::Absolutepath]`



Default value: `undef`

##### `tls_psk_file`

Data type: `Optional[Stdlib::Absolutepath]`



Default value: `undef`

##### `tls_psk_identity`

Data type: `Optional[String[1]]`



Default value: `undef`

##### `tls_server_cert_issuer`

Data type: `Optional[String[1]]`



Default value: `undef`

##### `tls_server_cert_subject`

Data type: `Optional[String[1]]`



Default value: `undef`

##### `unsafe_user_parameters`

Data type: `Optional[Integer[0,1]]`



Default value: `undef`

##### `user_parameter`

Data type: `Optional[Array[String[1]]]`



Default value: `undef`

##### `user`

Data type: `Optional[String[1]]`



Default value: `undef`

##### `version`

Data type: `Regexp[/\d+\.\d+/]`



Default value: '4.4'

### zabbixagent::config

Manages configuration of the Zabbix agent and associated repos (if enabled)

### zabbixagent::install

Installs the zabbix agent

### zabbixagent::preinstall

Repositories used by Zabbix

### zabbixagent::service

Makes sure the service is running

## Data types

### Zabbixagent::Logtype

The Zabbixagent::Logtype data type.

Alias of `Enum['system', 'file', 'console']`

### Zabbixagent::Server

The Zabbixagent::Server data type.

Alias of `Variant[String[1], Array[String[1]]]`

### Zabbixagent::Tls::Accept

The Zabbixagent::Tls::Accept data type.

Alias of `Array[Enum[
    'unencrypted',
    'psk',
    'cert',
  ]]`

### Zabbixagent::Tls::Connect

The Zabbixagent::Tls::Connect data type.

Alias of `Array[Enum[
    'unencrypted',
    'psk',
    'cert',
  ]]`

